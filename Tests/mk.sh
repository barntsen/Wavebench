#!/bin/sh

#====================================================================
# Run tests of the ac2d code 
#====================================================================
 
  #cd RTX4070
   cd GH200

  # Cuda generated by eps
  arch=ac2dmod-ecuda
  echo "running:" $arch
  ../mk-ac2d.sh $arch

  # Multicore (omp) generated by eps
  #arch=ac2dmod-eomp
  #echo "running:" $arch
  #../mk-ac2d.sh $arch

  # C generated by eps
  arch=ac2dmod-ec
  #echo "running:" $arch
  #../mk-ac2d.sh $arch

  # Cuda with manual memory managment
  arch=ac2dmod-cuda
  echo "running:" $arch
  ../mk-ac2d.sh $arch

  # Cuda with automatic memory managment
  arch=ac2dmod-cudaum
  echo "running:" $arch
  ../mk-ac2d.sh $arch

  # C single core
  arch=ac2dmod-c
  #echo "running:" $arch
  #../mk-ac2d.sh $arch

  ./clean.sh
  cd ..
